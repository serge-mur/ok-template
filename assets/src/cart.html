<!doctype html>
<html lang="ru">

<head>
    <title>Корзина</title>
    //= template/head.html
</head>

<body>

    //= template/offcanvas-menu.html

    <div id="panel">

        <header id="header">
            //= template/header.html
        </header>

        <main id="main" class="my-2">

            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item">
                                    <a href="#">Главная</a>
                                </li>
                                <li class="breadcrumb-item active" aria-current="page">Корзина</li>
                            </ol>
                        </nav>
                    </div>
                </div>

                <div class="row">
                    <div class="col-9">
                        
                        <h1 class="title mb-4">Корзина</h1>

                        <div class="providers-list">
                            <div class="provider-item">
                                <div class="provider-header" data-toggle="collapse" href="#collapseProvider-1">
                                    Поставщик: <span>Главторг</span>
                                    <i class="fas fa-wallet" data-toggle="tooltip" data-placement="bottom" title="Оплата наличными"></i>
                                    <i class="fas fa-credit-card" data-toggle="tooltip" data-placement="bottom" title="Оплата картой"></i> 
                                </div>
                                <div class="provider-body collapse show" id="collapseProvider-1">
                                    <div class="text">
                                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                                    </div>

                                    <div class="products-list">
                                        <div class="product-item">
                                            <div class="row">
                                                <div class="col-2">
                                                    <a href="#" target="_blank">
                                                        <img class="img-fluid" src="img/13376_middle.jpg" alt="Мороженое буренка">                                                        
                                                    </a>
                                                </div>                                                
                                                <div class="col-5">
                                                    <a class="product-title" href="#" target="_blank">Мороженое буренка</a>
                                                    <div>
                                                        Артикул <span>559658</span>
                                                    </div>
                                                    <div>
                                                        Тип упаковки <span>33 шт x 0.2 кг</span>
                                                    </div>
                                                </div>
                                                <div class="col-1">
                                                    <div>Скидка</div>
                                                    <div>-50%</div>
                                                </div>
                                                <div class="col-2">
                                                    <div>Количество</div>
                                                    <div class="counter">
                                                        <button type="button" class="but counterBut dec">-</button>
                                                        <input type="text" class="field fieldCount" value="1" data-min="1" data-max="999">
                                                        <button type="button" class="but counterBut inc">+</button>
                                                    </div>
                                                    <small>Продается по 12 штук</small>
                                                </div>
                                                <div class="col-1">
                                                    <div>Цена</div>
                                                    <div>1000</div>
                                                    <div>999</div>
                                                </div>
                                                <div class="col-1">
                                                    <div>Сумма</div>
                                                    <div>1000</div>
                                                </div>
                                                <div class="col-12 text-right">
                                                    <a href="#" class="btn-close"><i class="fas fa-times"></i></a> 
                                                </div>
                                            </div>
                                        </div>
                                        <div class="product-item">
                                            2
                                        </div>
                                    </div>

                                    <div class="provider-total">
                                        <div class="row">
                                            <div class="col-12">
                                                <div class="total">
                                                    Главторг
                                                    <span class="float-right">Итого: 930 руб.</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-4">
                                                <div class="delivery-block">
                                                    <div>
                                                        Самовывоз<br>
                                                        <span>Осталось добавить товаров на 1300 руб.</span>
                                                    </div>
                                                    <div>0 руб.</div>
                                                    <div class="progress">
                                                        <div class="progress-bar" style="width: 50%">1200 руб.</div>
                                                    </div>
                                                    <div>Минимальна сумма заказа 4000 руб.</div>
                                                </div>
                                            </div>
                                            <div class="col-4">                
                                                <div class="delivery-block active">
                                                    <div>
                                                        Доставка по Москве и МО
                                                    </div>
                                                    <div>300 руб.</div>
                                                    <div class="progress">
                                                        <div class="progress-bar" style="width: 100%">3200 руб.</div>
                                                    </div>
                                                    <div>Минимальна сумма заказа 3000 руб.</div>
                                                </div>
                                            </div>
                                            <div class="col-4">
                                                <button class="btn btn-primary w-100 text-nowrap">Перейти в каталог поставщика</button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                </div>
                            </div>

                        </div>

                    </div>
                    <div class="col-3">
                        <div class="total-block position-sticky" style="top: 100px;">
                            <div class="location-block">
                                <div>Ваш город: <span>Москва</span> <a href="#">Сменить?</a></div>
                                <div>Москва, ул. Иванова, д. 23</div>
                            </div>

                            <div class="total-providers-list">
                                <div class="provider-item">
                                    <div class="provider-header" data-toggle="collapse" href="#collapseTotalProvider-1">
                                        <span>Поставщик: Главторг</span>
                                    </div>
                                    <div class="provider-body collapse show" id="collapseTotalProvider-1">
                                        <span>Доставка V</span>
                                    </div>
                                </div>

                                <div class="provider-item">
                                    <div class="provider-header" data-toggle="collapse" href="#collapseTotalProvider-2">
                                        <span>Поставщик: Главторг</span>
                                    </div>
                                    <div class="provider-body collapse show" id="collapseTotalProvider-2">
                                        <span>Не хватает до мин. доставки 1300 руб.</span>
                                        <span>1300 руб.</span>
                                    </div>
                                </div>
                            </div>

                            <div class="price-block">
                                <div>2 товара на сумму 930 руб.</div>
                                <div>Доставка 300 руб.</div>
                            </div>

                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Введите промокод">
                            </div>                            

                            <div class="total-price-block">
                                <div>Вы экономите: 4505 руб.</div>
                                <div>Итого: 1205 руб.</div>
                            </div>

                            <button class="btn btn-primary w-100 text-nowrap">Продолжить</button>                            

                        </div>

                    </div>
                </div>
            </div>
        </main>

        <footer id="footer">
            //= template/footer.html
        </footer>

    </div>
    <!-- end #panel -->

    //= template/modal-region.html
    //= template/modal-registration.html
    //= template/modal-cart.html
    //= template/modal-all.html
    //= template/include-scripts.html

    <script>
        $(document).ready(function($){

            function catalogItemCounter(field) {
                var fieldCount = function (el) {
                    var
                        // Мин. значение
                        min = el.data('min') || false,
                        // Макс. значение
                        max = el.data('max') || false,
                        // Кнопка уменьшения кол-ва
                        dec = el.prev('.dec'),
                        // Кнопка увеличения кол-ва
                        inc = el.next('.inc');
                    function init(el) {
                        if (!el.attr('disabled')) {
                            dec.on('click', decrement);
                            inc.on('click', increment);
                        }
                        // Уменьшим значение
                        function decrement() {
                            var value = parseInt(el[0].value);
                            value--;
                            if (!min || value >= min) {
                                el[0].value = value;
                            }
                        };
                        // Увеличим значение
                        function increment() {
                            var value = parseInt(el[0].value);
                            value++;
                            if (!max || value <= max) {
                                el[0].value = value++;
                            }
                        };
                    }
                    el.each(function () {
                        init($(this));
                    });
                };
                $(field).each(function () {
                    fieldCount($(this));
                });
            }
            catalogItemCounter('.fieldCount');

        });    
    </script>

</body>

</html>